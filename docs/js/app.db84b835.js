(function(e){function t(t){for(var s,i,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);h&&h(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(s=!1)}s&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},r={app:0},a=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var h=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"122e":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),r=n("dc02"),a=n("43f9"),i=n.n(a),o=(n("d1e7"),n("43f4"),n("bb87"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),s("MainView",{attrs:{msg:"Second Life Functions Web Interface"}})],1)}),c=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v(e._s(e.msg))]),n("md-field",{attrs:{id:"sl-host-field"}},[n("label",{attrs:{for:"sl-host"}},[e._v("SL Host")]),n("md-input",{attrs:{type:"text",name:"sl-host",id:"sl-host",autocomplete:"sl_host"},model:{value:e.sl_host,callback:function(t){e.sl_host=t},expression:"sl_host"}})],1),n("SpeechWidget",{attrs:{sl_host:e.sl_host},on:{recover:e.recover}})],1)},h=[],u=(n("96cf"),n("1da1")),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{staticClass:"md-layout",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.validateForm(t)}}},[n("md-card",{staticClass:"md-layout-item md-size-50 md-small-size-100"},[n("md-card-header",[n("div",{staticClass:"md-title"},[e._v("Speech")])]),n("md-card-content",[n("div",{staticClass:"md-layout md-gutter"},[n("div",{staticClass:"md-layout-item md-small-size-100"},[n("md-field",{class:e.getValidationClass("speech_type")},[n("label",{attrs:{for:"speech-type"}},[e._v("Type")]),n("md-select",{attrs:{name:"speech-type",id:"speech-type","md-dense":"",disabled:e.sending},model:{value:e.form.speech_type,callback:function(t){e.$set(e.form,"speech_type",t)},expression:"form.speech_type"}},[n("md-option",{attrs:{value:"rlv_folders"}},[e._v("Query folders")]),n("md-option",{attrs:{value:"owner"}},[e._v("OwnerSay (self + @RLV)")]),n("md-option",{attrs:{value:"whisper"}},[e._v("Whisper (10 m)")]),n("md-option",{attrs:{value:"say"}},[e._v("Say (20 m)")]),n("md-option",{attrs:{value:"shout"}},[e._v("Shout (100 m)")])],1),n("span",{staticClass:"md-error"},[e._v("The type is required")])],1)],1),e.shouldShowChannel(e.form.speech_type)?n("div",{staticClass:"md-layout-item md-small-size-100"},[n("md-field",{class:e.getValidationClass("speech_channel")},[n("label",{attrs:{for:"speech-channel"}},[e._v("Channel")]),n("md-input",{attrs:{type:"number",id:"speech-channel",name:"speech-channel",disabled:e.sending},model:{value:e.form.speech_channel,callback:function(t){e.$set(e.form,"speech_channel",t)},expression:"form.speech_channel"}})],1)],1):e._e()]),e.shouldShowName(e.form.speech_type)?n("md-field",{class:e.getValidationClass("speech_name")},[n("label",{attrs:{for:"speech-name"}},[e._v("Name")]),n("md-input",{attrs:{type:"text",name:"speech-name",id:"speech-name",autocomplete:"speech_name",disabled:e.sending},model:{value:e.form.speech_name,callback:function(t){e.$set(e.form,"speech_name",t)},expression:"form.speech_name"}}),e.$v.form.speech_name.required?e._e():n("span",{staticClass:"md-error"},[e._v("Name is required")])],1):e._e(),e.shouldShowText(e.form.speech_type)?n("md-field",{class:e.getValidationClass("speech_text")},[n("label",{attrs:{for:"speech-text"}},[e._v("Text")]),n("md-textarea",{attrs:{name:"speech-text",id:"speech-text",autocomplete:"speech_text",disabled:e.sending},model:{value:e.form.speech_text,callback:function(t){e.$set(e.form,"speech_text",t)},expression:"form.speech_text"}}),e.$v.form.speech_text.required?e.$v.form.speech_text.maxLength?e._e():n("span",{staticClass:"md-error"},[e._v("Max 500 characters")]):n("span",{staticClass:"md-error"},[e._v("Text is required")])],1):e._e(),n("md-card",{staticClass:"md-layout-item"},[n("md-card-header",[n("div",{staticClass:"md-title"},[e._v("Result")])]),n("md-card-content",[n("pre",{staticStyle:{width:"100%","text-align":"left"},style:{"background-color":e.lastResponse.succeeded?"":"red"},domProps:{textContent:e._s(e.responseJSON)}})])],1)],1),e.sending?n("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):e._e(),n("md-card-actions",[n("div",[n("md-switch",{staticClass:"md-primary",model:{value:e.showHistory,callback:function(t){e.showHistory=t},expression:"showHistory"}},[n("md-tooltip",{attrs:{"md-direction":"top"}},[e._v("Toggle history list")]),n("md-icon",{class:{"md-primary":e.showHistory}},[e._v("history")])],1)],1),n("md-button",{staticClass:"md-primary",attrs:{disabled:e.sending},on:{click:e.formSave}},[n("md-tooltip",{attrs:{"md-direction":"top"}},[e._v("Save")]),n("md-icon",[e._v("save")])],1),n("md-button",{staticClass:"md-primary",attrs:{disabled:e.sending},on:{click:e.formSend}},[n("md-tooltip",{attrs:{"md-direction":"top"}},[e._v("Execute")]),n("md-icon",[e._v("send")])],1)],1)],1),e.showHistory?n("md-card",{staticClass:"md-layout-item"},[n("md-card-header",[n("div",{staticClass:"md-title"},[e._v("Speech history")])]),n("md-card-content",[n("md-field",{attrs:{"md-clearable":""}},[n("md-input",{attrs:{placeholder:"Search..."},on:{input:e.searchInHistory},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("md-chips",{attrs:{"md-placeholder":"Search tags..."},model:{value:e.searchTags,callback:function(t){e.searchTags=t},expression:"searchTags"}}),n("md-list",{staticClass:"history-list"},[n("draggable",e._b({on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}}},"draggable",e.dragOptions,!1),[n("transition-group",{attrs:{type:"transition",name:e.drag?null:"flip-list"}},e._l(e.filteredHistory,(function(t){return n("md-list-item",{key:t.id,staticClass:"history-list-item"},[n("div",{staticClass:"md-layout md-gutter"},[n("div",{staticClass:"md-layout-item md-size-5"},[n("md-speed-dial",{staticClass:"history-list-item-button",attrs:{"md-direction":"bottom"}},[n("md-speed-dial-target",{staticClass:"md-primary md-mini",on:{click:function(n){return e.historySend(t)}}},[n("md-icon",[e._v("send")])],1),n("md-speed-dial-content",[n("md-button",{staticClass:"md-icon-button",on:{click:function(n){return e.historyEdit(t)}}},[n("md-icon",[e._v("edit")])],1),n("md-button",{staticClass:"md-icon-button",on:{click:function(n){return e.historyDelete(t)}}},[n("md-icon",[e._v("delete")])],1)],1)],1)],1),n("div",{staticClass:"md-layout-item"},[n("md-table",[n("md-table-row",[n("md-table-cell",[n("span",{staticClass:"history-list-item-text",staticStyle:{"white-space":"pre"}},[e._v(e._s(t.text))])])],1),n("md-table-row",[n("md-table-cell",[n("md-chips",{attrs:{"md-check-duplicated":"","md-placeholder":"Add tag..."},model:{value:t.tags,callback:function(n){e.$set(t,"tags",n)},expression:"item.tags"}},["owner"!=t.type?n("md-chip",{staticClass:"md-primary",staticStyle:{"margin-right":"4px"}},[e._v("name:'"+e._s(t.name)+"'")]):e._e(),n("md-chip",{staticClass:"md-primary",staticStyle:{"margin-right":"4px"}},[e._v("type:'"+e._s(t.type)+"'")]),"owner"!=t.type?n("md-chip",{staticClass:"md-primary",staticStyle:{"margin-right":"4px"}},[e._v("channel:'"+e._s(t.channel)+"'")]):e._e()],1)],1)],1)],1)],1)])])})),1)],1)],1)],1)],1):e._e(),n("md-card",{staticClass:"md-layout-item"},[n("md-card-header",[n("div",{staticClass:"md-title"},[e._v("Clothes")])]),n("md-card-content",[n("md-list",{staticClass:"clothes-list"},e._l(e.clothes,(function(t){return n("md-list-item",{key:t.name,staticClass:"clothes-list-item"},[n("md-button",{staticClass:"md-icon-button",on:{click:function(n){return e.add_clothing(t)}}},[n("md-icon",[e._v("add")])],1),n("md-button",{staticClass:"md-icon-button",on:{click:function(n){return e.remove_clothing(t)}}},[n("md-icon",[e._v("remove")])],1),n("div",{staticClass:"md-layout-item"},[e._v(e._s(t.name))])],1)})),1),n("md-field",[n("label",{attrs:{for:"clothes_template"}},[e._v("Template")]),n("md-textarea",{attrs:{name:"clothes_template"},model:{value:e.clothes_template,callback:function(t){e.clothes_template=t},expression:"clothes_template"}})],1),e._v(" Message "),n("pre",{staticStyle:{"text-align":"left"},domProps:{textContent:e._s(e.clothes_message)}}),n("md-button",{staticClass:"md-icon-button",on:{click:function(t){return e.dumpClothes()}}},[n("md-icon",[e._v("edit")])],1),n("md-button",{staticClass:"md-icon-button",on:{click:function(t){return e.updateClothes()}}},[n("md-icon",[e._v("refresh")])],1)],1)],1),e.lastSpeech?n("md-snackbar",{attrs:{"md-active":e.formSend},on:{"update:mdActive":function(t){e.formSend=t},"update:md-active":function(t){e.formSend=t}}},[e._v('The command "Speech" has issued '+e._s(e.lastSpeech.type)+' with the text "'+e._s(e.lastSpeech.text)+'" on channel '+e._s(e.lastSpeech.channel))]):e._e()],1)])},p=[],m=(n("456d"),n("53ca")),f=(n("ac4d"),n("8a81"),n("5df3"),n("10ad"),n("3b2b"),n("55dd"),n("a481"),n("386d"),n("20d6"),n("28a5"),n("ffc1"),n("ac6a"),n("7514"),n("7f7f"),n("6762"),n("2fdb"),n("262e")),v=(n("99de"),n("7e84"),n("9072")),g=n("1dce"),y=n("b76a"),_=n.n(y),x=n("b5ae");function b(e,t){b=function(e,t){return new a(e,void 0,t)};var n=Object(v["a"])(RegExp),s=RegExp.prototype,r=new WeakMap;function a(e,t,s){var a=n.call(this,e,t);return r.set(a,s||r.get(e)),a}function i(e,t){var n=r.get(t);return Object.keys(n).reduce((function(t,s){return t[s]=e[n[s]],t}),Object.create(null))}return Object(f["a"])(a,n),a.prototype.exec=function(e){var t=s.exec.call(this,e);return t&&(t.groups=i(t,this)),t},a.prototype[Symbol.replace]=function(e,t){if("string"===typeof t){var n=r.get(this);return s[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+n[t]})))}if("function"===typeof t){var a=this;return s[Symbol.replace].call(this,e,(function(){var e=[];return e.push.apply(e,arguments),"object"!==Object(m["a"])(e[e.length-1])&&e.push(i(e,a)),t.apply(this,e)}))}return s[Symbol.replace].call(this,e,t)},b.apply(this,arguments)}var S={name:"SpeechWidget",mixins:[g["validationMixin"]],components:{draggable:_.a},props:{sl_host:{required:!1}},data:function(){return{nameRegex:b(/name:'((?:(?!')[\s\S])+)'/i,{name:1}),typeRegex:b(/type:'((?:(?!')[\s\S])+)'/i,{type:1}),channelRegex:b(/channel:'((?:(?!')[\s\S])+)'/i,{channel:1}),tagsRegex:b(/tag:'((?:(?!')[\s\S])+)'/gi,{tag:1}),form:{speech_type:"SAY",speech_channel:0,speech_name:null,speech_text:null},showHistory:!0,search:null,searchTags:[],clothes_template:"Clothes:\n\t<item>",clothes:[],haveLoaded:!1,history_count:0,history:[],drag:!1,sending:!1,lastSpeech:null,lastResponse:{succeeded:!0,response:void 0}}},validations:{form:{speech_channel:{required:x["required"]},speech_name:{required:x["required"]},speech_text:{required:x["required"],maxLength:Object(x["maxLength"])(500)}}},methods:{shouldShowName:function(e){return!["owner","rlv_folders"].includes(e)},shouldShowChannel:function(e){return!["owner","rlv_folders"].includes(e)},shouldShowText:function(e){return![].includes(e)},formToItem:function(){var e=this.form.speech_name,t=this.form.speech_type,n=this.form.speech_text,s=this.form.speech_channel;if(!n&&this.shouldShowText(t))throw"No text!";if(!e&&this.shouldShowName(t))throw"No name!";var r={name:e,type:t,text:n,channel:s,id:++this.history_count,tags:[]};return"owner"==t?(delete r.name,delete r.channel):"rlv_folders"==t&&(delete r.name,delete r.channel,r.type="RLV_QUERY",r.text="@getinv:".concat(r.text,"=456446"),r.channel=456446),r},formSave:function(){var e=this.formToItem(),t=(e.name||"").toUpperCase(),n=e.type.toUpperCase(),s=(e.text||"").toUpperCase(),r=e.channel;return this.history.find((function(e){return(e.name||"").toUpperCase()==t&&e.type.toUpperCase()==n&&(e.text||"").toUpperCase()==s&&e.channel==r}))||this.history.push(e),e},sendSpeech:function(e){var t=this;t.lastResponse={succeeded:!0,response:void 0},t.sending=!0;var n={cmd:"msg",type:e.type,text:e.text,name:e.name,channel:e.channel};Object.entries(n).filter((function(e){return void 0==e[1]})).forEach((function(e){return delete n[e[0]]})),"RLV_QUERY"==e.type&&(n.cmd="RLV_QUERY",delete n.type);var s=t.sl_host;return"/"!=s.split("").pop()&&(s+="/"),this.$jsonp(s,n).then((function(e){return e.success?t.lastResponse={succeeded:!0,response:e.data}:t.lastResponse={succeeded:!1,response:e.data},t.lastResponse}),(function(){t.lastResponse={succeeded:!1,response:"Network / url"},t.$emit("recover")})).finally((function(){t.sending=!1}))},historySend:function(e){this.sendSpeech(e)},historyEdit:function(e){this.form.speech_name=e.name,this.form.speech_type=e.type,this.form.speech_text=e.text,this.form.speech_channel=e.channel},historyDelete:function(e){var t=this.history.findIndex((function(t){return t==e}));-1!=t&&this.history.splice(t,1)},searchInHistory:function(){var e=this,t=this.search||"",n=this.nameRegex.exec(t);if(n){var s=this.searchTags.findIndex((function(t){return null!=e.nameRegex.exec(t)})),r="name:'".concat(n.groups["name"],"'");-1!=s?this.searchTags.splice(s,1,r):this.searchTags.push(r)}t=t.replace(this.nameRegex,"");var a=this.typeRegex.exec(t);if(a){var i=this.searchTags.findIndex((function(t){return null!=e.typeRegex.exec(t)})),o="type:'".concat(a.groups["type"],"'");-1!=i?this.searchTags.splice(i,1,o):this.searchTags.push(o)}t=t.replace(this.typeRegex,"");var c,l=this.channelRegex.exec(t);if(l){var h=this.searchTags.findIndex((function(t){return null!=e.channelRegex.exec(t)})),u="channel:'".concat(l.groups["channel"],"'");-1!=h?this.searchTags.splice(h,1,u):this.searchTags.push(u)}t=t.replace(this.channelRegex,"");while(null!=(c=this.tagsRegex.exec(t))){var d=c.groups["tag"];this.searchTags.find(d)||this.searchTags.push(d)}t=t.replace(this.tagsRegex,""),t=t.trim(),this.search=t},getValidationClass:function(e){var t=this.$v.form[e];if(t)return{"md-invalid":t.$invalid&&t.$dirty}},clearForm:function(){this.$v.$reset(),this.form.speech_type="SAY",this.form.speech_channel=0,this.form.speech_name=null,this.form.speech_text=null},formSend:function(){this.sending=!0;var e=this.formSave();this.sendSpeech(e)},validateForm:function(e){var t=e.explicitOriginalTarget,n=!1;while(t&&!(n="BUTTON"==t.tagName&&"submit"==t.type))t=t.parentElement;if(!n)return!1;this.$v.$touch(),this.$v.$invalid||this.formSend()},updateClothes:function(){var e=this;this.sendSpeech({type:"RLV_QUERY",text:"@getinv:.outfits=456445",channel:456445}).then((function(t){t.succeeded&&(e.clothes=t.response.response.split(",").filter((function(e){return e})).sort().map((function(e){return{name:e}})).sort())}))},dumpClothes:function(){this.shouldShowText(this.form.speech_type)||(this.form.speech_type="SAY"),this.form.speech_text=this.clothes_message},remove_clothing:function(e){this.sendSpeech({type:"owner",text:"@detachall:.outfits/".concat(e.name,"=force")})},add_clothing:function(e){this.sendSpeech({type:"owner",text:"@attachall:.outfits/".concat(e.name,"=force")})}},computed:{clothes_message:function(){var e=this;return this.clothes_template.split("\n").map((function(t){return-1!=t.indexOf("<item>")?e.clothes.map((function(e){return t.replace("<item>",e.name)})).join("\n"):t})).join("\n")},responseJSON:function(){return JSON.stringify(this.lastResponse.response,void 0,2)},filteredHistory:function(){var e=this,t=this.searchTags;t=t.map((function(e){return e.trim().toUpperCase()}));var n=this.searchTags.map((function(t){return e.nameRegex.exec(t)})).filter((function(e){return null!=e})).pop(),s=n&&n.groups["name"],r=this.searchTags.map((function(t){return e.typeRegex.exec(t)})).filter((function(e){return null!=e})).pop(),a=r&&r.groups["type"],i=this.searchTags.map((function(t){return e.channelRegex.exec(t)})).filter((function(e){return null!=e})).pop(),o=i&&i.groups["channel"],c=this.history;if(s&&(c=c.filter((function(e){return e.name.toUpperCase()==s.toUpperCase()})),t=t.filter((function(t){return null==e.nameRegex.exec(t)}))),a&&(c=c.filter((function(e){return e.type.toUpperCase()==a.toUpperCase()})),t=t.filter((function(t){return null==e.typeRegex.exec(t)}))),o&&(c=c.filter((function(e){return e.channel==o})),t=t.filter((function(t){return null==e.channelRegex.exec(t)}))),t.length>0&&(c=c.filter((function(e){return t.every((function(t){return e.tags.find((function(e){return e.toUpperCase()==t}))}))}))),this.search){var l=this.search.trim();l&&(c=c.filter((function(e){return e.text.toUpperCase().includes(l.toUpperCase())})))}return c},dragOptions:function(){return{animation:200,group:"history",disabled:!1,ghostClass:"ghost"}}},mounted:function(){var e=localStorage.getItem("speech-history");e&&(e=JSON.parse(e),this.history=e.history||[],this.history_count=e.history_count||0),this.haveLoaded=!0},watch:{history:{handler:function(){this.haveLoaded&&localStorage.setItem("speech-history",JSON.stringify({history:this.history||[],history_count:this.history_count||0}))},deep:!0}}},C=S,w=(n("a4ff"),n("2877")),R=Object(w["a"])(C,d,p,!1,null,"332a2205",null),O=R.exports,T={name:"HelloWorld",components:{SpeechWidget:O},props:{msg:String},watch:{sl_host:function(e){var t=this.getOptionsFromHash();t.sl_host!=e&&(t.url=e,location.hash=encodeURIComponent(JSON.stringify(t)))},recovery_key:function(e){var t=this.getOptionsFromHash();t.recovery!=e&&(t.recovery=e,location.hash=encodeURIComponent(JSON.stringify(t)))}},methods:{getOptionsFromHash:function(){var e=location.hash.substring(1);return e?JSON.parse(decodeURIComponent(location.hash.substring(1))):{}},loadOptionsFromHash:function(){try{var e=this.getOptionsFromHash();e.url&&(this.sl_host=e.url),e.recovery&&(this.recovery_key=e.recovery)}catch(t){console.warn(t)}},recover:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,!t.recovery_key){e.next=5;break}return e.abrupt("return",fetch("https://cors-anywhere.herokuapp.com/http://xmlrpc.secondlife.com/cgi-bin/xmlrpc.cgi",{method:"POST",headers:{"Content-Type":"text/xml"},body:'<?xml version="1.0"?>\n<methodCall>\n    <methodName>llRemoteData</methodName>\n    <params>\n        <param>\n            <value>\n                <struct>\n                    <member>\n                        <name>Channel</name>\n                        <value><string>'.concat(t.recovery_key,"</string></value>\n                    </member>\n                    <member>\n                        <name>IntValue</name>\n                        <value><int>0</int></value>\n                    </member>\n                    <member>\n                        <name>StringValue</name>\n                        <value><string>Recover</string></value>\n                    </member>\n                </struct>\n            </value>\n        </param>\n    </params>\n</methodCall>")}).then(function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(n){var s,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=new DOMParser,e.t0=s,e.next=4,n.text();case 4:if(e.t1=e.sent,r=e.t0.parseFromString.call(e.t0,e.t1,"application/xml"),a=r.evaluate("//member[contains(name,'StringValue')]/value/string/text()",r,null,XPathResult.STRING_TYPE).stringValue,!a){e.next=12;break}return t.sl_host=a,e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(){return console.warn("Failed recovery!"),!1})));case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),ping:function(){var e=this,t=function(){setTimeout((function(){e.ping()}),3e4)};if(e.sl_host)return e.$jsonp(e.sl_host,{cmd:"PING"}).then((function(t){t.success&&(e.recovery_key=t.data.refresh)}),Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.recover();case 2:case"end":return t.stop()}}),t)})))).finally((function(){t()}));t()}},mounted:function(){var e=this;e.loadOptionsFromHash(),window.addEventListener("hashchange",(function(){e.loadOptionsFromHash()}),!1),e.ping()},data:function(){return{sl_host:"",recovery_key:""}}},k=T,j=(n("9154"),Object(w["a"])(k,l,h,!1,null,"7da4c3c9",null)),$=j.exports,N={name:"app",components:{MainView:$}},U=N,H=(n("034f"),Object(w["a"])(U,o,c,!1,null,null,null)),I=H.exports;s["default"].use(r["a"]),s["default"].use(i.a),s["default"].config.productionTip=!1,new s["default"]({render:function(e){return e(I)}}).$mount("#app")},"6b8d":function(e,t,n){},"85ec":function(e,t,n){},9154:function(e,t,n){"use strict";n("122e")},a4ff:function(e,t,n){"use strict";n("6b8d")},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.db84b835.js.map